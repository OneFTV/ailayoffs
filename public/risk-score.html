<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Is Your Job at Risk from AI? ‚Äî AI Risk Score | AILayoff.live</title>
<meta name="description" content="Check your occupation's AI automation risk score. Powered by Oxford research and real layoff data.">
<meta property="og:title" content="Is Your Job at Risk from AI? ‚Äî AILayoff.live">
<meta property="og:description" content="Check your occupation's AI automation risk score ‚Äî powered by Oxford research + real layoff data">
<link rel="preconnect" href="https://fonts.googleapis.com">
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800;900&family=JetBrains+Mono:wght@500;700&display=swap" rel="stylesheet">
<style>
*{margin:0;padding:0;box-sizing:border-box}
:root{--bg:#08080d;--card:#0f0f18;--card2:#14141f;--accent:#ef4444;--accent2:#f59e0b;--accent3:#3b82f6;--accent4:#10b981;--accent5:#8b5cf6;--text:#e2e8f0;--muted:#64748b;--border:#1a1a2e;--glow:rgba(239,68,68,.15)}
body{font-family:'Inter',system-ui,sans-serif;background:var(--bg);color:var(--text);line-height:1.6;overflow-x:hidden}
a{color:var(--accent3);text-decoration:none;transition:color .2s}
a:hover{color:#60a5fa}

.topbar{display:flex;justify-content:space-between;align-items:center;padding:.6rem 2rem;background:var(--card);border-bottom:1px solid var(--border);font-size:.75rem;color:var(--muted)}
.topbar-left{display:flex;gap:1.5rem;align-items:center}
.topbar a{color:var(--text);font-weight:600;margin-left:1.5rem;opacity:.7;transition:opacity .2s}
.topbar a:hover{opacity:1;color:var(--accent3)}
.topbar a.active{opacity:1;color:var(--accent)}

.hero{text-align:center;padding:4rem 1rem 2rem;background:linear-gradient(180deg,var(--card) 0%,var(--bg) 100%);position:relative}
.hero::after{content:'';position:absolute;bottom:0;left:50%;transform:translateX(-50%);width:200px;height:1px;background:linear-gradient(90deg,transparent,var(--accent),transparent)}
.hero h1{font-size:2.6rem;font-weight:900;letter-spacing:-2px;margin-bottom:.5rem}
.hero h1 span{color:var(--accent)}
.hero p{color:var(--muted);font-size:1rem;max-width:600px;margin:0 auto}

.search-wrap{max-width:600px;margin:2rem auto 0;position:relative}
.search-wrap input{width:100%;padding:1rem 1.5rem;background:var(--card);border:2px solid var(--border);border-radius:14px;color:var(--text);font-size:1.1rem;font-family:inherit;outline:none;transition:border .2s}
.search-wrap input:focus{border-color:var(--accent)}
.search-wrap input::placeholder{color:var(--muted)}
.autocomplete{position:absolute;top:100%;left:0;right:0;background:var(--card);border:1px solid var(--border);border-radius:12px;margin-top:4px;overflow:hidden;display:none;z-index:10;max-height:320px;overflow-y:auto}
.autocomplete a{display:flex;justify-content:space-between;align-items:center;padding:.8rem 1.2rem;color:var(--text);border-bottom:1px solid var(--border);transition:background .15s}
.autocomplete a:last-child{border-bottom:none}
.autocomplete a:hover{background:rgba(255,255,255,.03)}
.autocomplete .score{font-family:'JetBrains Mono',monospace;font-weight:700;font-size:.85rem}
.score-low{color:var(--accent4)}.score-med{color:var(--accent2)}.score-high{color:#f97316}.score-vhigh{color:var(--accent)}

.popular{max-width:600px;margin:1.5rem auto 0;text-align:center}
.popular h3{font-size:.75rem;text-transform:uppercase;letter-spacing:2px;color:var(--muted);margin-bottom:.8rem;font-weight:600}
.popular-tags{display:flex;flex-wrap:wrap;gap:.5rem;justify-content:center}
.popular-tags a{background:var(--card);border:1px solid var(--border);border-radius:8px;padding:.4rem 1rem;font-size:.85rem;color:var(--text);transition:all .2s}
.popular-tags a:hover{border-color:var(--accent);color:var(--accent)}

.stats-bar{text-align:center;margin-top:2.5rem;padding:1.5rem;color:var(--muted);font-size:.9rem}
.stats-bar span{color:var(--accent);font-weight:800;font-family:'JetBrains Mono',monospace}

.footer{border-top:1px solid var(--border);margin-top:4rem;padding:2rem;text-align:center;font-size:.75rem;color:var(--muted)}
.footer a{color:var(--accent3);margin:0 .5rem}

@media(max-width:600px){
  .hero h1{font-size:1.8rem}
  .search-wrap{margin:1.5rem 1rem 0}
  .popular{padding:0 1rem}
  .topbar{display:none}
}
</style>
</head>
<body>

<div class="topbar">
  <div class="topbar-left">
    <a href="/">Home</a>
    <a href="/risk-score" class="active">Risk Score</a>
  </div>
  <div><a href="/" style="color:var(--text);font-weight:800;opacity:1">AI<span style="color:var(--accent)">Layoff</span>.live</a></div>
</div>

<div class="hero">
  <h1>Is Your Job at <span>Risk</span> from AI?</h1>
  <p>Search your occupation to see its AI automation risk score ‚Äî powered by Oxford research and real layoff data</p>

  <div class="search-wrap">
    <input type="text" id="search" placeholder="Search your job title... (e.g. Software Developer)" autocomplete="off">
    <div class="autocomplete" id="results"></div>
  </div>

  <div class="popular">
    <h3>Popular searches</h3>
    <div class="popular-tags">
      <a href="/risk-score/accountants">Accountant</a>
      <a href="/risk-score/software-developers">Software Developer</a>
      <a href="/risk-score/heavy-and-tractor-trailer-truck-drivers">Truck Driver</a>
      <a href="/risk-score/registered-nurses">Nurse</a>
      <a href="/risk-score/lawyers">Lawyer</a>
      <a href="/risk-score/graphic-designers">Graphic Designer</a>
      <a href="/risk-score/financial-analysts">Financial Analyst</a>
    </div>
  </div>

  <div class="stats-bar" id="stats-bar">Loading occupation data...</div>
</div>

<div class="chart-section">
  <h2 class="chart-title">AI Impact Map ‚Äî Where Does Your Job Fall?</h2>
  <p class="chart-subtitle">Each dot is an occupation. Click any dot to see its full analysis.</p>
  <div class="chart-legend">
    <span class="legend-item"><span class="legend-dot" style="background:#22c55e"></span>AI-Enhanced</span>
    <span class="legend-item"><span class="legend-dot" style="background:#eab308"></span>Transforming</span>
    <span class="legend-item"><span class="legend-dot" style="background:#3b82f6"></span>AI-Resistant</span>
    <span class="legend-item"><span class="legend-dot" style="background:#ef4444"></span>At Risk</span>
  </div>
  <div class="chart-container">
    <canvas id="scatterChart"></canvas>
  </div>
</div>

<style>
.chart-section{max-width:900px;margin:2rem auto 0;padding:0 1.5rem}
.chart-title{font-size:1.5rem;font-weight:800;text-align:center;letter-spacing:-1px}
.chart-subtitle{color:var(--muted);text-align:center;font-size:.9rem;margin-top:.3rem}
.chart-legend{display:flex;gap:1.2rem;justify-content:center;margin-top:1rem;flex-wrap:wrap}
.legend-item{display:flex;align-items:center;gap:.4rem;font-size:.8rem;color:var(--muted)}
.legend-dot{width:10px;height:10px;border-radius:50%;display:inline-block}
.chart-container{margin-top:1rem;position:relative;height:600px;max-height:70vh}
@media(max-width:600px){.chart-container{height:400px}.chart-title{font-size:1.2rem}}
</style>

<div class="footer">
  <a href="/">‚Üê Back to AILayoff.live</a> ¬∑ <a href="/risk-score">Risk Score</a> ¬∑ <a href="/about.html">About</a>
</div>

<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-annotation@3"></script>
<script>
const input=document.getElementById('search'),results=document.getElementById('results');
let timer;
input.addEventListener('input',()=>{
  clearTimeout(timer);
  const q=input.value.trim();
  if(q.length<2){results.style.display='none';return}
  timer=setTimeout(()=>{
    fetch('/api/risk-score?q='+encodeURIComponent(q))
      .then(r=>r.json()).then(data=>{
        if(!data.length){results.style.display='none';return}
        results.innerHTML=data.map(d=>{
          const cls=d.risk_score<=25?'score-low':d.risk_score<=50?'score-med':d.risk_score<=75?'score-high':'score-vhigh';
          return `<a href="/risk-score/${d.title_slug}"><span>${d.title}</span><span class="score ${cls}">${d.risk_score}/100</span></a>`;
        }).join('');
        results.style.display='block';
      }).catch(()=>{results.style.display='none'});
  },300);
});
document.addEventListener('click',e=>{if(!e.target.closest('.search-wrap'))results.style.display='none'});
input.addEventListener('focus',()=>{if(results.innerHTML)results.style.display='block'});

fetch('/api/risk-score-stats').then(r=>r.json()).then(s=>{
  document.getElementById('stats-bar').innerHTML=`<span>${s.total||0}</span> occupations analyzed ¬∑ Average risk score: <span>${s.avg_risk||0}</span>/100`;
}).catch(()=>{});

// Scatter chart
const notableJobs=['Software Developers','Heavy and Tractor-Trailer Truck Drivers','Registered Nurses','Accountants','Data Entry Keyers','Lawyers','Elementary School Teachers, Except Special Education','Physicians, All Other'];
fetch('/api/risk-score-chart').then(r=>r.json()).then(data=>{
  if(!data.length)return;
  function qColor(r,a){if(r<50&&a>=50)return '#22c55e';if(r>=50&&a>=50)return '#eab308';if(r<50&&a<50)return '#3b82f6';return '#ef4444';}
  const points=data.map(d=>({x:d.risk_score,y:d.augmentation_score,title:d.title,slug:d.title_slug,color:qColor(d.risk_score,d.augmentation_score)}));
  const ctx=document.getElementById('scatterChart').getContext('2d');
  const chart=new Chart(ctx,{
    type:'scatter',
    data:{datasets:[{
      data:points,
      pointBackgroundColor:points.map(p=>p.color),
      pointBorderColor:points.map(p=>p.color),
      pointRadius:points.map(p=>notableJobs.includes(p.title)?6:3.5),
      pointHoverRadius:8,
      pointBorderWidth:0
    }]},
    options:{
      responsive:true,
      maintainAspectRatio:false,
      animation:{duration:800},
      scales:{
        x:{min:0,max:100,title:{display:true,text:'Automation Risk ‚Üí',color:'#64748b',font:{size:13,weight:600}},grid:{color:'#1e1e2e'},ticks:{color:'#64748b',stepSize:25}},
        y:{min:0,max:100,title:{display:true,text:'AI Augmentation Potential ‚Üí',color:'#64748b',font:{size:13,weight:600}},grid:{color:'#1e1e2e'},ticks:{color:'#64748b',stepSize:25}}
      },
      plugins:{
        legend:{display:false},
        tooltip:{
          callbacks:{
            label:function(c){const p=c.raw;return `${p.title}: Risk ${p.x}%, Augmentation ${p.y}%`;}
          },
          backgroundColor:'#12121a',borderColor:'#1e1e2e',borderWidth:1,titleFont:{size:0},bodyColor:'#e0e0e0',padding:10
        },
        annotation:{
          annotations:{
            lineX:{type:'line',xMin:50,xMax:50,borderColor:'rgba(100,116,139,.3)',borderWidth:1,borderDash:[6,4]},
            lineY:{type:'line',yMin:50,yMax:50,borderColor:'rgba(100,116,139,.3)',borderWidth:1,borderDash:[6,4]},
            labelTL:{type:'label',xValue:10,yValue:95,content:['AI-Enhanced ‚úÖ'],color:'#22c55e',font:{size:11,weight:600}},
            labelTR:{type:'label',xValue:90,yValue:95,content:['Transforming ‚ö°'],color:'#eab308',font:{size:11,weight:600}},
            labelBL:{type:'label',xValue:10,yValue:5,content:['AI-Resistant üõ°Ô∏è'],color:'#3b82f6',font:{size:11,weight:600}},
            labelBR:{type:'label',xValue:90,yValue:5,content:['At Risk ‚ö†Ô∏è'],color:'#ef4444',font:{size:11,weight:600}}
          }
        }
      },
      onClick:(e,els)=>{if(els.length){const p=points[els[0].index];window.location.href='/risk-score/'+p.slug;}}
    },
    plugins:[{
      id:'labelNotable',
      afterDatasetsDraw(chart){
        const ctx2=chart.ctx;
        ctx2.font='600 10px Inter,sans-serif';
        ctx2.textAlign='center';
        points.forEach((p,i)=>{
          if(!notableJobs.includes(p.title))return;
          const meta=chart.getDatasetMeta(0).data[i];
          if(!meta)return;
          const short=p.title.replace(/, Except.*/,'').replace(/Heavy and Tractor-Trailer /,'').replace(/Physicians.*/,'Doctor').replace('Registered ','').replace('Elementary School ','');
          ctx2.fillStyle='#e0e0e0';
          ctx2.fillText(short,meta.x,meta.y-10);
        });
      }
    }]
  });
}).catch(()=>{});
</script>
</body>
</html>
